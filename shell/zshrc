ZSH_ENABLE_PROFILING=false

# Enable profiling if ZSH_PROFILE is set
if $ZSH_ENABLE_PROFILING; then
  zmodload zsh/zprof
fi

source $HOME/.functions.sh
source $HOME/.exports.sh
source $HOME/.antidote.sh
source $HOME/.node.sh
source $HOME/.aliases.sh
[[ -f ~/.iterm2_shell_integration.zsh ]] && source ~/.iterm2_shell_integration.zsh
command -v direnv &> /dev/null && eval "$(direnv hook zsh)"
command -v navi &> /dev/null && eval "$(navi widget zsh)"
command -v starship &> /dev/null && eval "$(starship init zsh)"
command -v zoxide &> /dev/null && eval "$(zoxide init zsh)"

# tabtab source for packages
[[ -f ~/.config/tabtab/zsh/__tabtab.zsh ]] && source ~/.config/tabtab/zsh/__tabtab.zsh

# Enable completions
[[ -d $HOME/.docker/completions ]] && fpath=($HOME/.docker/completions $fpath)
autoload -Uz compinit
compinit -d ~/.zcompdump

# ZSH options
unsetopt inc_append_history # Do not share shell history between sessions
unsetopt share_history

if $ZSH_ENABLE_PROFILING; then
  zprof
fi
